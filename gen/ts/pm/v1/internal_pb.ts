// @generated by protoc-gen-es v2.11.0 with parameter "target=ts"
// @generated from file pm/v1/internal.proto (package pm.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv2";
import type { GetLuksKeyResponseSchema, StoreLuksKeyResponseSchema, SyncActionsResponseSchema, ValidateLuksTokenResponseSchema } from "./agent_pb";
import { file_pm_v1_agent } from "./agent_pb";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file pm/v1/internal.proto.
 */
export const file_pm_v1_internal: GenFile = /*@__PURE__*/
  fileDesc("ChRwbS92MS9pbnRlcm5hbC5wcm90bxIFcG0udjEiLwoaSW50ZXJuYWxTeW5jQWN0aW9uc1JlcXVlc3QSEQoJZGV2aWNlX2lkGAEgASgJIkQKIEludGVybmFsVmFsaWRhdGVMdWtzVG9rZW5SZXF1ZXN0EhEKCWRldmljZV9pZBgBIAEoCRINCgV0b2tlbhgCIAEoCSJBChlJbnRlcm5hbEdldEx1a3NLZXlSZXF1ZXN0EhEKCWRldmljZV9pZBgBIAEoCRIRCglhY3Rpb25faWQYAiABKAkihQEKG0ludGVybmFsU3RvcmVMdWtzS2V5UmVxdWVzdBIRCglkZXZpY2VfaWQYASABKAkSEQoJYWN0aW9uX2lkGAIgASgJEhMKC2RldmljZV9wYXRoGAMgASgJEhIKCnBhc3NwaHJhc2UYBCABKAkSFwoPcm90YXRpb25fcmVhc29uGAUgASgJIl0KE0xwc1Bhc3N3b3JkUm90YXRpb24SEAoIdXNlcm5hbWUYASABKAkSEAoIcGFzc3dvcmQYAiABKAkSEgoKcm90YXRlZF9hdBgDIAEoCRIOCgZyZWFzb24YBCABKAkidwogSW50ZXJuYWxTdG9yZUxwc1Bhc3N3b3Jkc1JlcXVlc3QSEQoJZGV2aWNlX2lkGAEgASgJEhEKCWFjdGlvbl9pZBgCIAEoCRItCglyb3RhdGlvbnMYAyADKAsyGi5wbS52MS5McHNQYXNzd29yZFJvdGF0aW9uIiMKIUludGVybmFsU3RvcmVMcHNQYXNzd29yZHNSZXNwb25zZSIoChNWZXJpZnlEZXZpY2VSZXF1ZXN0EhEKCWRldmljZV9pZBgBIAEoCSIWChRWZXJpZnlEZXZpY2VSZXNwb25zZTKlBAoPSW50ZXJuYWxTZXJ2aWNlEkcKDFZlcmlmeURldmljZRIaLnBtLnYxLlZlcmlmeURldmljZVJlcXVlc3QaGy5wbS52MS5WZXJpZnlEZXZpY2VSZXNwb25zZRJRChBQcm94eVN5bmNBY3Rpb25zEiEucG0udjEuSW50ZXJuYWxTeW5jQWN0aW9uc1JlcXVlc3QaGi5wbS52MS5TeW5jQWN0aW9uc1Jlc3BvbnNlEmMKFlByb3h5VmFsaWRhdGVMdWtzVG9rZW4SJy5wbS52MS5JbnRlcm5hbFZhbGlkYXRlTHVrc1Rva2VuUmVxdWVzdBogLnBtLnYxLlZhbGlkYXRlTHVrc1Rva2VuUmVzcG9uc2USTgoPUHJveHlHZXRMdWtzS2V5EiAucG0udjEuSW50ZXJuYWxHZXRMdWtzS2V5UmVxdWVzdBoZLnBtLnYxLkdldEx1a3NLZXlSZXNwb25zZRJUChFQcm94eVN0b3JlTHVrc0tleRIiLnBtLnYxLkludGVybmFsU3RvcmVMdWtzS2V5UmVxdWVzdBobLnBtLnYxLlN0b3JlTHVrc0tleVJlc3BvbnNlEmsKFlByb3h5U3RvcmVMcHNQYXNzd29yZHMSJy5wbS52MS5JbnRlcm5hbFN0b3JlTHBzUGFzc3dvcmRzUmVxdWVzdBooLnBtLnYxLkludGVybmFsU3RvcmVMcHNQYXNzd29yZHNSZXNwb25zZUI6WjhnaXRodWIuY29tL21hbmNodG9vbHMvcG93ZXItbWFuYWdlL3Nkay9nZW4vZ28vcG0vdjE7cG12MWIGcHJvdG8z", [file_pm_v1_agent]);

/**
 * InternalSyncActionsRequest wraps SyncActionsRequest with the device_id
 * extracted from mTLS on the gateway side.
 *
 * @generated from message pm.v1.InternalSyncActionsRequest
 */
export type InternalSyncActionsRequest = Message<"pm.v1.InternalSyncActionsRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;
};

/**
 * Describes the message pm.v1.InternalSyncActionsRequest.
 * Use `create(InternalSyncActionsRequestSchema)` to create a new message.
 */
export const InternalSyncActionsRequestSchema: GenMessage<InternalSyncActionsRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 0);

/**
 * InternalValidateLuksTokenRequest wraps ValidateLuksTokenRequest.
 *
 * @generated from message pm.v1.InternalValidateLuksTokenRequest
 */
export type InternalValidateLuksTokenRequest = Message<"pm.v1.InternalValidateLuksTokenRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;

  /**
   * @generated from field: string token = 2;
   */
  token: string;
};

/**
 * Describes the message pm.v1.InternalValidateLuksTokenRequest.
 * Use `create(InternalValidateLuksTokenRequestSchema)` to create a new message.
 */
export const InternalValidateLuksTokenRequestSchema: GenMessage<InternalValidateLuksTokenRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 1);

/**
 * InternalGetLuksKeyRequest includes device_id (from mTLS) and action_id.
 *
 * @generated from message pm.v1.InternalGetLuksKeyRequest
 */
export type InternalGetLuksKeyRequest = Message<"pm.v1.InternalGetLuksKeyRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;

  /**
   * @generated from field: string action_id = 2;
   */
  actionId: string;
};

/**
 * Describes the message pm.v1.InternalGetLuksKeyRequest.
 * Use `create(InternalGetLuksKeyRequestSchema)` to create a new message.
 */
export const InternalGetLuksKeyRequestSchema: GenMessage<InternalGetLuksKeyRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 2);

/**
 * InternalStoreLuksKeyRequest includes device_id (from mTLS) and key data.
 *
 * @generated from message pm.v1.InternalStoreLuksKeyRequest
 */
export type InternalStoreLuksKeyRequest = Message<"pm.v1.InternalStoreLuksKeyRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;

  /**
   * @generated from field: string action_id = 2;
   */
  actionId: string;

  /**
   * @generated from field: string device_path = 3;
   */
  devicePath: string;

  /**
   * @generated from field: string passphrase = 4;
   */
  passphrase: string;

  /**
   * @generated from field: string rotation_reason = 5;
   */
  rotationReason: string;
};

/**
 * Describes the message pm.v1.InternalStoreLuksKeyRequest.
 * Use `create(InternalStoreLuksKeyRequestSchema)` to create a new message.
 */
export const InternalStoreLuksKeyRequestSchema: GenMessage<InternalStoreLuksKeyRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 3);

/**
 * LpsPasswordRotation represents a single password rotation entry.
 *
 * @generated from message pm.v1.LpsPasswordRotation
 */
export type LpsPasswordRotation = Message<"pm.v1.LpsPasswordRotation"> & {
  /**
   * @generated from field: string username = 1;
   */
  username: string;

  /**
   * @generated from field: string password = 2;
   */
  password: string;

  /**
   * @generated from field: string rotated_at = 3;
   */
  rotatedAt: string;

  /**
   * @generated from field: string reason = 4;
   */
  reason: string;
};

/**
 * Describes the message pm.v1.LpsPasswordRotation.
 * Use `create(LpsPasswordRotationSchema)` to create a new message.
 */
export const LpsPasswordRotationSchema: GenMessage<LpsPasswordRotation> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 4);

/**
 * InternalStoreLpsPasswordsRequest sends LPS password rotations to control
 * for encryption and storage. Transmitted over internal RPC, never via Valkey.
 *
 * @generated from message pm.v1.InternalStoreLpsPasswordsRequest
 */
export type InternalStoreLpsPasswordsRequest = Message<"pm.v1.InternalStoreLpsPasswordsRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;

  /**
   * @generated from field: string action_id = 2;
   */
  actionId: string;

  /**
   * @generated from field: repeated pm.v1.LpsPasswordRotation rotations = 3;
   */
  rotations: LpsPasswordRotation[];
};

/**
 * Describes the message pm.v1.InternalStoreLpsPasswordsRequest.
 * Use `create(InternalStoreLpsPasswordsRequestSchema)` to create a new message.
 */
export const InternalStoreLpsPasswordsRequestSchema: GenMessage<InternalStoreLpsPasswordsRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 5);

/**
 * @generated from message pm.v1.InternalStoreLpsPasswordsResponse
 */
export type InternalStoreLpsPasswordsResponse = Message<"pm.v1.InternalStoreLpsPasswordsResponse"> & {
};

/**
 * Describes the message pm.v1.InternalStoreLpsPasswordsResponse.
 * Use `create(InternalStoreLpsPasswordsResponseSchema)` to create a new message.
 */
export const InternalStoreLpsPasswordsResponseSchema: GenMessage<InternalStoreLpsPasswordsResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 6);

/**
 * VerifyDeviceRequest is sent by the gateway to verify a device before
 * allowing it to connect. Contains the device_id from the mTLS certificate.
 *
 * @generated from message pm.v1.VerifyDeviceRequest
 */
export type VerifyDeviceRequest = Message<"pm.v1.VerifyDeviceRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;
};

/**
 * Describes the message pm.v1.VerifyDeviceRequest.
 * Use `create(VerifyDeviceRequestSchema)` to create a new message.
 */
export const VerifyDeviceRequestSchema: GenMessage<VerifyDeviceRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 7);

/**
 * VerifyDeviceResponse indicates whether the device is valid for connection.
 *
 * @generated from message pm.v1.VerifyDeviceResponse
 */
export type VerifyDeviceResponse = Message<"pm.v1.VerifyDeviceResponse"> & {
};

/**
 * Describes the message pm.v1.VerifyDeviceResponse.
 * Use `create(VerifyDeviceResponseSchema)` to create a new message.
 */
export const VerifyDeviceResponseSchema: GenMessage<VerifyDeviceResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 8);

/**
 * @generated from service pm.v1.InternalService
 */
export const InternalService: GenService<{
  /**
   * VerifyDevice checks that a device exists and is not deleted.
   * Called by the gateway before registering an agent connection.
   *
   * @generated from rpc pm.v1.InternalService.VerifyDevice
   */
  verifyDevice: {
    methodKind: "unary";
    input: typeof VerifyDeviceRequestSchema;
    output: typeof VerifyDeviceResponseSchema;
  },
  /**
   * Proxy SyncActions: resolves assigned actions for a device.
   *
   * @generated from rpc pm.v1.InternalService.ProxySyncActions
   */
  proxySyncActions: {
    methodKind: "unary";
    input: typeof InternalSyncActionsRequestSchema;
    output: typeof SyncActionsResponseSchema;
  },
  /**
   * Proxy ValidateLuksToken: validates and consumes a one-time LUKS token.
   *
   * @generated from rpc pm.v1.InternalService.ProxyValidateLuksToken
   */
  proxyValidateLuksToken: {
    methodKind: "unary";
    input: typeof InternalValidateLuksTokenRequestSchema;
    output: typeof ValidateLuksTokenResponseSchema;
  },
  /**
   * Proxy GetLuksKey: retrieves and decrypts the current LUKS key for a device+action.
   *
   * @generated from rpc pm.v1.InternalService.ProxyGetLuksKey
   */
  proxyGetLuksKey: {
    methodKind: "unary";
    input: typeof InternalGetLuksKeyRequestSchema;
    output: typeof GetLuksKeyResponseSchema;
  },
  /**
   * Proxy StoreLuksKey: encrypts and stores a new LUKS key.
   *
   * @generated from rpc pm.v1.InternalService.ProxyStoreLuksKey
   */
  proxyStoreLuksKey: {
    methodKind: "unary";
    input: typeof InternalStoreLuksKeyRequestSchema;
    output: typeof StoreLuksKeyResponseSchema;
  },
  /**
   * Proxy StoreLpsPasswords: encrypts and stores LPS password rotation entries.
   *
   * @generated from rpc pm.v1.InternalService.ProxyStoreLpsPasswords
   */
  proxyStoreLpsPasswords: {
    methodKind: "unary";
    input: typeof InternalStoreLpsPasswordsRequestSchema;
    output: typeof InternalStoreLpsPasswordsResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_pm_v1_internal, 0);

