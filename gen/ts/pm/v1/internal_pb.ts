// @generated by protoc-gen-es v2.11.0 with parameter "target=ts"
// @generated from file pm/v1/internal.proto (package pm.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv2";
import type { GetLuksKeyResponseSchema, StoreLuksKeyResponseSchema, SyncActionsResponseSchema, ValidateLuksTokenResponseSchema } from "./agent_pb";
import { file_pm_v1_agent } from "./agent_pb";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file pm/v1/internal.proto.
 */
export const file_pm_v1_internal: GenFile = /*@__PURE__*/
  fileDesc("ChRwbS92MS9pbnRlcm5hbC5wcm90bxIFcG0udjEiLwoaSW50ZXJuYWxTeW5jQWN0aW9uc1JlcXVlc3QSEQoJZGV2aWNlX2lkGAEgASgJIkQKIEludGVybmFsVmFsaWRhdGVMdWtzVG9rZW5SZXF1ZXN0EhEKCWRldmljZV9pZBgBIAEoCRINCgV0b2tlbhgCIAEoCSJBChlJbnRlcm5hbEdldEx1a3NLZXlSZXF1ZXN0EhEKCWRldmljZV9pZBgBIAEoCRIRCglhY3Rpb25faWQYAiABKAkihQEKG0ludGVybmFsU3RvcmVMdWtzS2V5UmVxdWVzdBIRCglkZXZpY2VfaWQYASABKAkSEQoJYWN0aW9uX2lkGAIgASgJEhMKC2RldmljZV9wYXRoGAMgASgJEhIKCnBhc3NwaHJhc2UYBCABKAkSFwoPcm90YXRpb25fcmVhc29uGAUgASgJIl0KE0xwc1Bhc3N3b3JkUm90YXRpb24SEAoIdXNlcm5hbWUYASABKAkSEAoIcGFzc3dvcmQYAiABKAkSEgoKcm90YXRlZF9hdBgDIAEoCRIOCgZyZWFzb24YBCABKAkidwogSW50ZXJuYWxTdG9yZUxwc1Bhc3N3b3Jkc1JlcXVlc3QSEQoJZGV2aWNlX2lkGAEgASgJEhEKCWFjdGlvbl9pZBgCIAEoCRItCglyb3RhdGlvbnMYAyADKAsyGi5wbS52MS5McHNQYXNzd29yZFJvdGF0aW9uIiMKIUludGVybmFsU3RvcmVMcHNQYXNzd29yZHNSZXNwb25zZTLcAwoPSW50ZXJuYWxTZXJ2aWNlElEKEFByb3h5U3luY0FjdGlvbnMSIS5wbS52MS5JbnRlcm5hbFN5bmNBY3Rpb25zUmVxdWVzdBoaLnBtLnYxLlN5bmNBY3Rpb25zUmVzcG9uc2USYwoWUHJveHlWYWxpZGF0ZUx1a3NUb2tlbhInLnBtLnYxLkludGVybmFsVmFsaWRhdGVMdWtzVG9rZW5SZXF1ZXN0GiAucG0udjEuVmFsaWRhdGVMdWtzVG9rZW5SZXNwb25zZRJOCg9Qcm94eUdldEx1a3NLZXkSIC5wbS52MS5JbnRlcm5hbEdldEx1a3NLZXlSZXF1ZXN0GhkucG0udjEuR2V0THVrc0tleVJlc3BvbnNlElQKEVByb3h5U3RvcmVMdWtzS2V5EiIucG0udjEuSW50ZXJuYWxTdG9yZUx1a3NLZXlSZXF1ZXN0GhsucG0udjEuU3RvcmVMdWtzS2V5UmVzcG9uc2USawoWUHJveHlTdG9yZUxwc1Bhc3N3b3JkcxInLnBtLnYxLkludGVybmFsU3RvcmVMcHNQYXNzd29yZHNSZXF1ZXN0GigucG0udjEuSW50ZXJuYWxTdG9yZUxwc1Bhc3N3b3Jkc1Jlc3BvbnNlQjpaOGdpdGh1Yi5jb20vbWFuY2h0b29scy9wb3dlci1tYW5hZ2Uvc2RrL2dlbi9nby9wbS92MTtwbXYxYgZwcm90bzM", [file_pm_v1_agent]);

/**
 * InternalSyncActionsRequest wraps SyncActionsRequest with the device_id
 * extracted from mTLS on the gateway side.
 *
 * @generated from message pm.v1.InternalSyncActionsRequest
 */
export type InternalSyncActionsRequest = Message<"pm.v1.InternalSyncActionsRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;
};

/**
 * Describes the message pm.v1.InternalSyncActionsRequest.
 * Use `create(InternalSyncActionsRequestSchema)` to create a new message.
 */
export const InternalSyncActionsRequestSchema: GenMessage<InternalSyncActionsRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 0);

/**
 * InternalValidateLuksTokenRequest wraps ValidateLuksTokenRequest.
 *
 * @generated from message pm.v1.InternalValidateLuksTokenRequest
 */
export type InternalValidateLuksTokenRequest = Message<"pm.v1.InternalValidateLuksTokenRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;

  /**
   * @generated from field: string token = 2;
   */
  token: string;
};

/**
 * Describes the message pm.v1.InternalValidateLuksTokenRequest.
 * Use `create(InternalValidateLuksTokenRequestSchema)` to create a new message.
 */
export const InternalValidateLuksTokenRequestSchema: GenMessage<InternalValidateLuksTokenRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 1);

/**
 * InternalGetLuksKeyRequest includes device_id (from mTLS) and action_id.
 *
 * @generated from message pm.v1.InternalGetLuksKeyRequest
 */
export type InternalGetLuksKeyRequest = Message<"pm.v1.InternalGetLuksKeyRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;

  /**
   * @generated from field: string action_id = 2;
   */
  actionId: string;
};

/**
 * Describes the message pm.v1.InternalGetLuksKeyRequest.
 * Use `create(InternalGetLuksKeyRequestSchema)` to create a new message.
 */
export const InternalGetLuksKeyRequestSchema: GenMessage<InternalGetLuksKeyRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 2);

/**
 * InternalStoreLuksKeyRequest includes device_id (from mTLS) and key data.
 *
 * @generated from message pm.v1.InternalStoreLuksKeyRequest
 */
export type InternalStoreLuksKeyRequest = Message<"pm.v1.InternalStoreLuksKeyRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;

  /**
   * @generated from field: string action_id = 2;
   */
  actionId: string;

  /**
   * @generated from field: string device_path = 3;
   */
  devicePath: string;

  /**
   * @generated from field: string passphrase = 4;
   */
  passphrase: string;

  /**
   * @generated from field: string rotation_reason = 5;
   */
  rotationReason: string;
};

/**
 * Describes the message pm.v1.InternalStoreLuksKeyRequest.
 * Use `create(InternalStoreLuksKeyRequestSchema)` to create a new message.
 */
export const InternalStoreLuksKeyRequestSchema: GenMessage<InternalStoreLuksKeyRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 3);

/**
 * LpsPasswordRotation represents a single password rotation entry.
 *
 * @generated from message pm.v1.LpsPasswordRotation
 */
export type LpsPasswordRotation = Message<"pm.v1.LpsPasswordRotation"> & {
  /**
   * @generated from field: string username = 1;
   */
  username: string;

  /**
   * @generated from field: string password = 2;
   */
  password: string;

  /**
   * @generated from field: string rotated_at = 3;
   */
  rotatedAt: string;

  /**
   * @generated from field: string reason = 4;
   */
  reason: string;
};

/**
 * Describes the message pm.v1.LpsPasswordRotation.
 * Use `create(LpsPasswordRotationSchema)` to create a new message.
 */
export const LpsPasswordRotationSchema: GenMessage<LpsPasswordRotation> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 4);

/**
 * InternalStoreLpsPasswordsRequest sends LPS password rotations to control
 * for encryption and storage. Transmitted over internal RPC, never via Valkey.
 *
 * @generated from message pm.v1.InternalStoreLpsPasswordsRequest
 */
export type InternalStoreLpsPasswordsRequest = Message<"pm.v1.InternalStoreLpsPasswordsRequest"> & {
  /**
   * @generated from field: string device_id = 1;
   */
  deviceId: string;

  /**
   * @generated from field: string action_id = 2;
   */
  actionId: string;

  /**
   * @generated from field: repeated pm.v1.LpsPasswordRotation rotations = 3;
   */
  rotations: LpsPasswordRotation[];
};

/**
 * Describes the message pm.v1.InternalStoreLpsPasswordsRequest.
 * Use `create(InternalStoreLpsPasswordsRequestSchema)` to create a new message.
 */
export const InternalStoreLpsPasswordsRequestSchema: GenMessage<InternalStoreLpsPasswordsRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 5);

/**
 * @generated from message pm.v1.InternalStoreLpsPasswordsResponse
 */
export type InternalStoreLpsPasswordsResponse = Message<"pm.v1.InternalStoreLpsPasswordsResponse"> & {
};

/**
 * Describes the message pm.v1.InternalStoreLpsPasswordsResponse.
 * Use `create(InternalStoreLpsPasswordsResponseSchema)` to create a new message.
 */
export const InternalStoreLpsPasswordsResponseSchema: GenMessage<InternalStoreLpsPasswordsResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_internal, 6);

/**
 * @generated from service pm.v1.InternalService
 */
export const InternalService: GenService<{
  /**
   * Proxy SyncActions: resolves assigned actions for a device.
   *
   * @generated from rpc pm.v1.InternalService.ProxySyncActions
   */
  proxySyncActions: {
    methodKind: "unary";
    input: typeof InternalSyncActionsRequestSchema;
    output: typeof SyncActionsResponseSchema;
  },
  /**
   * Proxy ValidateLuksToken: validates and consumes a one-time LUKS token.
   *
   * @generated from rpc pm.v1.InternalService.ProxyValidateLuksToken
   */
  proxyValidateLuksToken: {
    methodKind: "unary";
    input: typeof InternalValidateLuksTokenRequestSchema;
    output: typeof ValidateLuksTokenResponseSchema;
  },
  /**
   * Proxy GetLuksKey: retrieves and decrypts the current LUKS key for a device+action.
   *
   * @generated from rpc pm.v1.InternalService.ProxyGetLuksKey
   */
  proxyGetLuksKey: {
    methodKind: "unary";
    input: typeof InternalGetLuksKeyRequestSchema;
    output: typeof GetLuksKeyResponseSchema;
  },
  /**
   * Proxy StoreLuksKey: encrypts and stores a new LUKS key.
   *
   * @generated from rpc pm.v1.InternalService.ProxyStoreLuksKey
   */
  proxyStoreLuksKey: {
    methodKind: "unary";
    input: typeof InternalStoreLuksKeyRequestSchema;
    output: typeof StoreLuksKeyResponseSchema;
  },
  /**
   * Proxy StoreLpsPasswords: encrypts and stores LPS password rotation entries.
   *
   * @generated from rpc pm.v1.InternalService.ProxyStoreLpsPasswords
   */
  proxyStoreLpsPasswords: {
    methodKind: "unary";
    input: typeof InternalStoreLpsPasswordsRequestSchema;
    output: typeof InternalStoreLpsPasswordsResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_pm_v1_internal, 0);

