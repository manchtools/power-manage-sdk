// @generated by protoc-gen-es v2.11.0 with parameter "target=ts"
// @generated from file pm/v1/device_auth.proto (package pm.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv2";
import type { DeviceUserInfo } from "./control_pb";
import { file_pm_v1_control } from "./control_pb";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file pm/v1/device_auth.proto.
 */
export const file_pm_v1_device_auth: GenFile = /*@__PURE__*/
  fileDesc("ChdwbS92MS9kZXZpY2VfYXV0aC5wcm90bxIFcG0udjEiSgoRRGV2aWNlQXV0aFJlcXVlc3QSEAoIdXNlcm5hbWUYASABKAkSEAoIcGFzc3dvcmQYAiABKAkSEQoJdG90cF9jb2RlGAMgASgJItYBChJEZXZpY2VBdXRoUmVzcG9uc2USDwoHc3VjY2VzcxgBIAEoCBIZChFwYXNzd29yZF9yZXF1aXJlZBgCIAEoCBIVCg1vaWRjX3JlcXVpcmVkGAMgASgIEhUKDXRvdHBfcmVxdWlyZWQYBCABKAgSDQoFZXJyb3IYBSABKAkSIwoEdXNlchgGIAEoCzIVLnBtLnYxLkRldmljZVVzZXJJbmZvEhUKDXNlc3Npb25fdG9rZW4YByABKAkSGwoTc2Vzc2lvbl90dGxfc2Vjb25kcxgIIAEoAyJBChZWYWxpZGF0ZVNlc3Npb25SZXF1ZXN0EhUKDXNlc3Npb25fdG9rZW4YASABKAkSEAoIdXNlcm5hbWUYAiABKAkiTQoXVmFsaWRhdGVTZXNzaW9uUmVzcG9uc2USDQoFdmFsaWQYASABKAgSIwoEdXNlchgCIAEoCzIVLnBtLnYxLkRldmljZVVzZXJJbmZvIjUKFEdldERldmljZVVzZXJSZXF1ZXN0EhAKCHVzZXJuYW1lGAEgASgJEgsKA3VpZBgCIAEoDSI8ChVHZXREZXZpY2VVc2VyUmVzcG9uc2USIwoEdXNlchgBIAEoCzIVLnBtLnYxLkRldmljZVVzZXJJbmZvIh0KG0xpc3REZXZpY2VVc2Vyc0xvY2FsUmVxdWVzdCJEChxMaXN0RGV2aWNlVXNlcnNMb2NhbFJlc3BvbnNlEiQKBXVzZXJzGAEgAygLMhUucG0udjEuRGV2aWNlVXNlckluZm8iPQoSR2V0TG9naW5VUkxSZXF1ZXN0EhUKDWNhbGxiYWNrX3BvcnQYASABKAUSEAoIdXNlcm5hbWUYAiABKAkiKAoTR2V0TG9naW5VUkxSZXNwb25zZRIRCglsb2dpbl91cmwYASABKAkiLgoUQ29tcGxldGVMb2dpblJlcXVlc3QSFgoOY2FsbGJhY2tfdG9rZW4YASABKAkikAEKFUNvbXBsZXRlTG9naW5SZXNwb25zZRIPCgdzdWNjZXNzGAEgASgIEg0KBWVycm9yGAIgASgJEiMKBHVzZXIYAyABKAsyFS5wbS52MS5EZXZpY2VVc2VySW5mbxIVCg1zZXNzaW9uX3Rva2VuGAQgASgJEhsKE3Nlc3Npb25fdHRsX3NlY29uZHMYBSABKAMiRwoNRW5yb2xsUmVxdWVzdBISCgpzZXJ2ZXJfdXJsGAEgASgJEg0KBXRva2VuGAIgASgJEhMKC3NraXBfdmVyaWZ5GAMgASgIIkMKDkVucm9sbFJlc3BvbnNlEg8KB3N1Y2Nlc3MYASABKAgSEQoJZGV2aWNlX2lkGAIgASgJEg0KBWVycm9yGAMgASgJIhwKGkdldEVucm9sbG1lbnRTdGF0dXNSZXF1ZXN0IkIKG0dldEVucm9sbG1lbnRTdGF0dXNSZXNwb25zZRIQCghlbnJvbGxlZBgBIAEoCBIRCglkZXZpY2VfaWQYAiABKAky7QQKEURldmljZUF1dGhTZXJ2aWNlEkMKDEF1dGhlbnRpY2F0ZRIYLnBtLnYxLkRldmljZUF1dGhSZXF1ZXN0GhkucG0udjEuRGV2aWNlQXV0aFJlc3BvbnNlElAKD1ZhbGlkYXRlU2Vzc2lvbhIdLnBtLnYxLlZhbGlkYXRlU2Vzc2lvblJlcXVlc3QaHi5wbS52MS5WYWxpZGF0ZVNlc3Npb25SZXNwb25zZRJECgdHZXRVc2VyEhsucG0udjEuR2V0RGV2aWNlVXNlclJlcXVlc3QaHC5wbS52MS5HZXREZXZpY2VVc2VyUmVzcG9uc2USVAoJTGlzdFVzZXJzEiIucG0udjEuTGlzdERldmljZVVzZXJzTG9jYWxSZXF1ZXN0GiMucG0udjEuTGlzdERldmljZVVzZXJzTG9jYWxSZXNwb25zZRJECgtHZXRMb2dpblVSTBIZLnBtLnYxLkdldExvZ2luVVJMUmVxdWVzdBoaLnBtLnYxLkdldExvZ2luVVJMUmVzcG9uc2USSgoNQ29tcGxldGVMb2dpbhIbLnBtLnYxLkNvbXBsZXRlTG9naW5SZXF1ZXN0GhwucG0udjEuQ29tcGxldGVMb2dpblJlc3BvbnNlEjUKBkVucm9sbBIULnBtLnYxLkVucm9sbFJlcXVlc3QaFS5wbS52MS5FbnJvbGxSZXNwb25zZRJcChNHZXRFbnJvbGxtZW50U3RhdHVzEiEucG0udjEuR2V0RW5yb2xsbWVudFN0YXR1c1JlcXVlc3QaIi5wbS52MS5HZXRFbnJvbGxtZW50U3RhdHVzUmVzcG9uc2VCOlo4Z2l0aHViLmNvbS9tYW5jaHRvb2xzL3Bvd2VyLW1hbmFnZS9zZGsvZ2VuL2dvL3BtL3YxO3BtdjFiBnByb3RvMw", [file_pm_v1_control]);

/**
 * @generated from message pm.v1.DeviceAuthRequest
 */
export type DeviceAuthRequest = Message<"pm.v1.DeviceAuthRequest"> & {
  /**
   * @gotags: validate:"required,min=1,max=254"
   *
   * PM email or local username
   *
   * @generated from field: string username = 1;
   */
  username: string;

  /**
   * PM password (empty = probe for auth method)
   *
   * @generated from field: string password = 2;
   */
  password: string;

  /**
   * Optional TOTP 2FA code
   *
   * @generated from field: string totp_code = 3;
   */
  totpCode: string;
};

/**
 * Describes the message pm.v1.DeviceAuthRequest.
 * Use `create(DeviceAuthRequestSchema)` to create a new message.
 */
export const DeviceAuthRequestSchema: GenMessage<DeviceAuthRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 0);

/**
 * @generated from message pm.v1.DeviceAuthResponse
 */
export type DeviceAuthResponse = Message<"pm.v1.DeviceAuthResponse"> & {
  /**
   * @generated from field: bool success = 1;
   */
  success: boolean;

  /**
   * User has PM password, prompt for it
   *
   * @generated from field: bool password_required = 2;
   */
  passwordRequired: boolean;

  /**
   * User is OIDC-only, needs browser flow
   *
   * @generated from field: bool oidc_required = 3;
   */
  oidcRequired: boolean;

  /**
   * TOTP 2FA needed, prompt for code
   *
   * @generated from field: bool totp_required = 4;
   */
  totpRequired: boolean;

  /**
   * @generated from field: string error = 5;
   */
  error: string;

  /**
   * User metadata (populated on success)
   *
   * @generated from field: pm.v1.DeviceUserInfo user = 6;
   */
  user?: DeviceUserInfo;

  /**
   * Cached for sudo re-auth
   *
   * @generated from field: string session_token = 7;
   */
  sessionToken: string;

  /**
   * @generated from field: int64 session_ttl_seconds = 8;
   */
  sessionTtlSeconds: bigint;
};

/**
 * Describes the message pm.v1.DeviceAuthResponse.
 * Use `create(DeviceAuthResponseSchema)` to create a new message.
 */
export const DeviceAuthResponseSchema: GenMessage<DeviceAuthResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 1);

/**
 * @generated from message pm.v1.ValidateSessionRequest
 */
export type ValidateSessionRequest = Message<"pm.v1.ValidateSessionRequest"> & {
  /**
   * @gotags: validate:"required"
   *
   * @generated from field: string session_token = 1;
   */
  sessionToken: string;

  /**
   * @gotags: validate:"required,min=1,max=254"
   *
   * @generated from field: string username = 2;
   */
  username: string;
};

/**
 * Describes the message pm.v1.ValidateSessionRequest.
 * Use `create(ValidateSessionRequestSchema)` to create a new message.
 */
export const ValidateSessionRequestSchema: GenMessage<ValidateSessionRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 2);

/**
 * @generated from message pm.v1.ValidateSessionResponse
 */
export type ValidateSessionResponse = Message<"pm.v1.ValidateSessionResponse"> & {
  /**
   * @generated from field: bool valid = 1;
   */
  valid: boolean;

  /**
   * @generated from field: pm.v1.DeviceUserInfo user = 2;
   */
  user?: DeviceUserInfo;
};

/**
 * Describes the message pm.v1.ValidateSessionResponse.
 * Use `create(ValidateSessionResponseSchema)` to create a new message.
 */
export const ValidateSessionResponseSchema: GenMessage<ValidateSessionResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 3);

/**
 * @generated from message pm.v1.GetDeviceUserRequest
 */
export type GetDeviceUserRequest = Message<"pm.v1.GetDeviceUserRequest"> & {
  /**
   * Lookup by username
   *
   * @generated from field: string username = 1;
   */
  username: string;

  /**
   * Or lookup by UID
   *
   * @generated from field: uint32 uid = 2;
   */
  uid: number;
};

/**
 * Describes the message pm.v1.GetDeviceUserRequest.
 * Use `create(GetDeviceUserRequestSchema)` to create a new message.
 */
export const GetDeviceUserRequestSchema: GenMessage<GetDeviceUserRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 4);

/**
 * @generated from message pm.v1.GetDeviceUserResponse
 */
export type GetDeviceUserResponse = Message<"pm.v1.GetDeviceUserResponse"> & {
  /**
   * @generated from field: pm.v1.DeviceUserInfo user = 1;
   */
  user?: DeviceUserInfo;
};

/**
 * Describes the message pm.v1.GetDeviceUserResponse.
 * Use `create(GetDeviceUserResponseSchema)` to create a new message.
 */
export const GetDeviceUserResponseSchema: GenMessage<GetDeviceUserResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 5);

/**
 * @generated from message pm.v1.ListDeviceUsersLocalRequest
 */
export type ListDeviceUsersLocalRequest = Message<"pm.v1.ListDeviceUsersLocalRequest"> & {
};

/**
 * Describes the message pm.v1.ListDeviceUsersLocalRequest.
 * Use `create(ListDeviceUsersLocalRequestSchema)` to create a new message.
 */
export const ListDeviceUsersLocalRequestSchema: GenMessage<ListDeviceUsersLocalRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 6);

/**
 * @generated from message pm.v1.ListDeviceUsersLocalResponse
 */
export type ListDeviceUsersLocalResponse = Message<"pm.v1.ListDeviceUsersLocalResponse"> & {
  /**
   * @generated from field: repeated pm.v1.DeviceUserInfo users = 1;
   */
  users: DeviceUserInfo[];
};

/**
 * Describes the message pm.v1.ListDeviceUsersLocalResponse.
 * Use `create(ListDeviceUsersLocalResponseSchema)` to create a new message.
 */
export const ListDeviceUsersLocalResponseSchema: GenMessage<ListDeviceUsersLocalResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 7);

/**
 * @generated from message pm.v1.GetLoginURLRequest
 */
export type GetLoginURLRequest = Message<"pm.v1.GetLoginURLRequest"> & {
  /**
   * @gotags: validate:"required,min=1,max=65535"
   *
   * localhost port PAM is listening on
   *
   * @generated from field: int32 callback_port = 1;
   */
  callbackPort: number;

  /**
   * @gotags: validate:"required,min=1,max=254"
   *
   * Pre-fill email on login page
   *
   * @generated from field: string username = 2;
   */
  username: string;
};

/**
 * Describes the message pm.v1.GetLoginURLRequest.
 * Use `create(GetLoginURLRequestSchema)` to create a new message.
 */
export const GetLoginURLRequestSchema: GenMessage<GetLoginURLRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 8);

/**
 * @generated from message pm.v1.GetLoginURLResponse
 */
export type GetLoginURLResponse = Message<"pm.v1.GetLoginURLResponse"> & {
  /**
   * Full URL to open in browser
   *
   * @generated from field: string login_url = 1;
   */
  loginUrl: string;
};

/**
 * Describes the message pm.v1.GetLoginURLResponse.
 * Use `create(GetLoginURLResponseSchema)` to create a new message.
 */
export const GetLoginURLResponseSchema: GenMessage<GetLoginURLResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 9);

/**
 * @generated from message pm.v1.CompleteLoginRequest
 */
export type CompleteLoginRequest = Message<"pm.v1.CompleteLoginRequest"> & {
  /**
   * @gotags: validate:"required"
   *
   * Token from browser redirect
   *
   * @generated from field: string callback_token = 1;
   */
  callbackToken: string;
};

/**
 * Describes the message pm.v1.CompleteLoginRequest.
 * Use `create(CompleteLoginRequestSchema)` to create a new message.
 */
export const CompleteLoginRequestSchema: GenMessage<CompleteLoginRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 10);

/**
 * @generated from message pm.v1.CompleteLoginResponse
 */
export type CompleteLoginResponse = Message<"pm.v1.CompleteLoginResponse"> & {
  /**
   * @generated from field: bool success = 1;
   */
  success: boolean;

  /**
   * @generated from field: string error = 2;
   */
  error: string;

  /**
   * @generated from field: pm.v1.DeviceUserInfo user = 3;
   */
  user?: DeviceUserInfo;

  /**
   * @generated from field: string session_token = 4;
   */
  sessionToken: string;

  /**
   * @generated from field: int64 session_ttl_seconds = 5;
   */
  sessionTtlSeconds: bigint;
};

/**
 * Describes the message pm.v1.CompleteLoginResponse.
 * Use `create(CompleteLoginResponseSchema)` to create a new message.
 */
export const CompleteLoginResponseSchema: GenMessage<CompleteLoginResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 11);

/**
 * @generated from message pm.v1.EnrollRequest
 */
export type EnrollRequest = Message<"pm.v1.EnrollRequest"> & {
  /**
   * @gotags: validate:"required,url"
   *
   * Control server URL
   *
   * @generated from field: string server_url = 1;
   */
  serverUrl: string;

  /**
   * @gotags: validate:"required"
   *
   * Registration token from web UI
   *
   * @generated from field: string token = 2;
   */
  token: string;

  /**
   * Skip TLS verification (development only)
   *
   * @generated from field: bool skip_verify = 3;
   */
  skipVerify: boolean;
};

/**
 * Describes the message pm.v1.EnrollRequest.
 * Use `create(EnrollRequestSchema)` to create a new message.
 */
export const EnrollRequestSchema: GenMessage<EnrollRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 12);

/**
 * @generated from message pm.v1.EnrollResponse
 */
export type EnrollResponse = Message<"pm.v1.EnrollResponse"> & {
  /**
   * @generated from field: bool success = 1;
   */
  success: boolean;

  /**
   * Assigned device ID on success
   *
   * @generated from field: string device_id = 2;
   */
  deviceId: string;

  /**
   * Error message on failure
   *
   * @generated from field: string error = 3;
   */
  error: string;
};

/**
 * Describes the message pm.v1.EnrollResponse.
 * Use `create(EnrollResponseSchema)` to create a new message.
 */
export const EnrollResponseSchema: GenMessage<EnrollResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 13);

/**
 * @generated from message pm.v1.GetEnrollmentStatusRequest
 */
export type GetEnrollmentStatusRequest = Message<"pm.v1.GetEnrollmentStatusRequest"> & {
};

/**
 * Describes the message pm.v1.GetEnrollmentStatusRequest.
 * Use `create(GetEnrollmentStatusRequestSchema)` to create a new message.
 */
export const GetEnrollmentStatusRequestSchema: GenMessage<GetEnrollmentStatusRequest> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 14);

/**
 * @generated from message pm.v1.GetEnrollmentStatusResponse
 */
export type GetEnrollmentStatusResponse = Message<"pm.v1.GetEnrollmentStatusResponse"> & {
  /**
   * @generated from field: bool enrolled = 1;
   */
  enrolled: boolean;

  /**
   * Empty if not enrolled
   *
   * @generated from field: string device_id = 2;
   */
  deviceId: string;
};

/**
 * Describes the message pm.v1.GetEnrollmentStatusResponse.
 * Use `create(GetEnrollmentStatusResponseSchema)` to create a new message.
 */
export const GetEnrollmentStatusResponseSchema: GenMessage<GetEnrollmentStatusResponse> = /*@__PURE__*/
  messageDesc(file_pm_v1_device_auth, 15);

/**
 * @generated from service pm.v1.DeviceAuthService
 */
export const DeviceAuthService: GenService<{
  /**
   * Authenticate a user for device login (SSH, sudo, display manager).
   * Called by pam_pm.so during pam_sm_authenticate().
   *
   * @generated from rpc pm.v1.DeviceAuthService.Authenticate
   */
  authenticate: {
    methodKind: "unary";
    input: typeof DeviceAuthRequestSchema;
    output: typeof DeviceAuthResponseSchema;
  },
  /**
   * Validate an existing session token (for sudo re-auth without password).
   *
   * @generated from rpc pm.v1.DeviceAuthService.ValidateSession
   */
  validateSession: {
    methodKind: "unary";
    input: typeof ValidateSessionRequestSchema;
    output: typeof ValidateSessionResponseSchema;
  },
  /**
   * Look up a single user by username or UID (for NSS getpwnam/getpwuid).
   *
   * @generated from rpc pm.v1.DeviceAuthService.GetUser
   */
  getUser: {
    methodKind: "unary";
    input: typeof GetDeviceUserRequestSchema;
    output: typeof GetDeviceUserResponseSchema;
  },
  /**
   * List all users authorized for this device (for NSS enumeration).
   *
   * @generated from rpc pm.v1.DeviceAuthService.ListUsers
   */
  listUsers: {
    methodKind: "unary";
    input: typeof ListDeviceUsersLocalRequestSchema;
    output: typeof ListDeviceUsersLocalResponseSchema;
  },
  /**
   * Get the browser login URL for OIDC-only users on graphical sessions.
   * Called by pam_pm.so when it detects a display manager + OIDC-only user.
   *
   * @generated from rpc pm.v1.DeviceAuthService.GetLoginURL
   */
  getLoginURL: {
    methodKind: "unary";
    input: typeof GetLoginURLRequestSchema;
    output: typeof GetLoginURLResponseSchema;
  },
  /**
   * Complete a browser-based login after the localhost callback is received.
   *
   * @generated from rpc pm.v1.DeviceAuthService.CompleteLogin
   */
  completeLogin: {
    methodKind: "unary";
    input: typeof CompleteLoginRequestSchema;
    output: typeof CompleteLoginResponseSchema;
  },
  /**
   * Enroll the agent with a PM server (called by CLI, no sudo required).
   *
   * @generated from rpc pm.v1.DeviceAuthService.Enroll
   */
  enroll: {
    methodKind: "unary";
    input: typeof EnrollRequestSchema;
    output: typeof EnrollResponseSchema;
  },
  /**
   * Check whether the agent is currently enrolled.
   *
   * @generated from rpc pm.v1.DeviceAuthService.GetEnrollmentStatus
   */
  getEnrollmentStatus: {
    methodKind: "unary";
    input: typeof GetEnrollmentStatusRequestSchema;
    output: typeof GetEnrollmentStatusResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_pm_v1_device_auth, 0);

